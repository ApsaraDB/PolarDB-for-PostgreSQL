CREATE EXTENSION pg_jieba;
select * from to_tsvector('jiebacfg', 'å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨æ—¥æœ¬äº¬éƒ½å¤§å­¦æ·±é€ ');
                                   to_tsvector                                    
----------------------------------------------------------------------------------
 'ä¸­å›½ç§‘å­¦é™¢':5 'å°æ˜':1 'æ—¥æœ¬äº¬éƒ½å¤§å­¦':10 'æ¯•ä¸š':3 'æ·±é€ ':11 'ç¡•å£«':2 'è®¡ç®—æ‰€':6
(1 row)

select * from to_tsvector('jiebacfg', 'æå°ç¦æ˜¯åˆ›æ–°åŠä¸»ä»»ä¹Ÿæ˜¯äº‘è®¡ç®—æ–¹é¢çš„ä¸“å®¶');
                            to_tsvector                            
-------------------------------------------------------------------
 'ä¸“å®¶':11 'ä¸»ä»»':5 'äº‘è®¡ç®—':8 'åˆ›æ–°':3 'åŠ':4 'æ–¹é¢':9 'æå°ç¦':1
(1 row)

insert into jieba_user_dict values('é˜¿é‡Œäº‘');
insert into jieba_user_dict values('ç ”å‘å·¥ç¨‹å¸ˆ');
insert into jieba_user_dict values('é˜¿é‡Œ',1);
select jieba_load_user_dict(0);
ERROR:  To use a user dict, pg_jieba must be loaded via shared_preload_libraries.
select * from to_tsvector('jiebacfg', 'zthæ˜¯é˜¿é‡Œäº‘çš„ä¸€ä¸ªç ”å‘å·¥ç¨‹å¸ˆ');
                     to_tsvector                      
------------------------------------------------------
 'zth':1 'ä¸€ä¸ª':6 'äº‘':4 'å·¥ç¨‹å¸ˆ':8 'ç ”å‘':7 'é˜¿é‡Œ':3
(1 row)

select jieba_load_user_dict(1);
ERROR:  To use a user dict, pg_jieba must be loaded via shared_preload_libraries.
select * from to_tsvector('jiebacfg', 'zthæ˜¯é˜¿é‡Œäº‘çš„ä¸€ä¸ªç ”å‘å·¥ç¨‹å¸ˆ');
                     to_tsvector                      
------------------------------------------------------
 'zth':1 'ä¸€ä¸ª':6 'äº‘':4 'å·¥ç¨‹å¸ˆ':8 'ç ”å‘':7 'é˜¿é‡Œ':3
(1 row)

select * from to_tsvector('jiebacfg_pos', 'zthæ˜¯é˜¿é‡Œäº‘çš„ä¸€ä¸ªç ”å‘å·¥ç¨‹å¸ˆ');
                                     to_tsvector                                      
--------------------------------------------------------------------------------------
 'zth:0':1 'ä¸€ä¸ª:8':6 'äº‘:6':4 'å·¥ç¨‹å¸ˆ:12':8 'æ˜¯:3':2 'çš„:7':5 'ç ”å‘:10':7 'é˜¿é‡Œ:4':3
(1 row)

select * from to_tsvector('jiebacfg_pos', 'zthæ˜¯alicloudğŸ’»çš„ä¸€ä¸ªğŸ‘¨ç ”å‘å·¥ç¨‹å¸ˆ');
                                              to_tsvector                                              
-------------------------------------------------------------------------------------------------------
 'alicloud:4':3 'zth:0':1 'ä¸€ä¸ª:14':6 'å·¥ç¨‹å¸ˆ:19':9 'æ˜¯:3':2 'çš„:13':5 'ç ”å‘:17':8 'ğŸ‘¨:16':7 'ğŸ’»:12':4
(1 row)

